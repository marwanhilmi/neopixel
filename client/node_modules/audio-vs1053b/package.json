{
  "name": "audio-vs1053b",
  "version": "0.1.6",
  "description": "Library to run the Tessel Audio Module. Plays and records sound.",
  "main": "index.js",
  "scripts": {
    "test": "tinytap -e 'tessel run {} ${AUDIO_PORT}' test/*.js"
  },
  "repository": {
    "type": "git",
    "url": "git@github.com:tessel/audio-vs1053b.git"
  },
  "author": "",
  "hardware": {
    "./examples": "false",
    "./test": "false"
  },
  "devDependencies": {
    "tinytap": "~0.0.2"
  },
  "directories": {
    "example": "examples"
  },
  "keywords": [
    "tessel",
    "audio",
    "recording",
    "play",
    "sound",
    "music",
    "vs1053b"
  ],
  "license": "MIT/APACHE",
  "readme": "#Audio\nDriver for the audio-vs1053b Tessel audio module. The hardware documentation for this module can be found [here](https://github.com/tessel/hardware/blob/master/modules-overview.md#audio).\n\nIf you run into any issues you can ask for support on the [Audio Module Forums](http://forums.tessel.io/category/audio).\n\n###Installation\n```sh\nnpm install audio-vs1053b\n```\n\n###Limitations\nThe current version of the Tessel runtime is too slow to play audio files smoothly. That means we wrote a custom C shim that handles most of the playback and recording of data. There are several consequences of the C shim:\n\n* Any other modules that use SPI for communication will be blocked while the Audio Module is playing a buffer.\n* You can only have one Audio Module attached to Tessel at a time.\n* Updates to the Audio Module driver must be released in both firmware and this npm repo.\n\nIt sucks but we're expecting major runtime speed improvements to render the C shim unnecessary within the next couple of months.\n\n###Development Status\nPlayback and recording to/from the local file system works well. Streams work less well. Interacting with the SDCard, Ambient, and IR doesn't work yet (issues with the SPI bus). This module is currently undergoing heavy development to fix those issues. Please file any bugs you find with this module.\n\n###Example\n```js\n/*********************************************\nThis Audio Module demo sets volume, then plays\nan audio file out over Headphones/Line out\n*********************************************/\n\nvar tessel = require('tessel');\nvar fs = require('fs');\nvar audio = require('audio-vs1053b').use(tessel.port['A']);\n\nvar audioFile = 'sample.mp3';\n\n// Wait for the module to connect\naudio.on('ready', function() {\n  console.log(\"Audio module connected! Setting volume...\");\n  // Set the volume in decibels. Around 20 is good; smaller is louder.\n  audio.setVolume(20, function(err) {\n    if (err) {\n      return console.log(err);\n    }\n    // Get the song\n    console.log('Retrieving file...');\n    var song = fs.readFileSync(audioFile);\n    // Play the song\n    console.log('Playing ' + audioFile + '...');\n    audio.play(song, function(err) {\n      if (err) {\n        console.log(err);\n      } else {\n        console.log('Done playing', audioFile);\n      }\n    });\n  });\n});\n\n// If there is an error, report it\naudio.on('error', function(err) {\n  console.log(err);\n});\n```\n\n###Methods\n\n&#x20;<a href=\"#api-audio-setVolume-leftChannelDb-rightChannelDb-callback-err-Set-the-output-volume-Level-is-a-Number-from-0-0-to-1-0\" name=\"api-audio-setVolume-leftChannelDb-rightChannelDb-callback-err-Set-the-output-volume-Level-is-a-Number-from-0-0-to-1-0\">#</a> audio<b>.setVolume</b>( leftChannelDb, [rightChannelDb,] callback(err) )  \n Set the output volume. Level is a Number from 0.0 to 1.0  \n\n&#x20;<a href=\"#api-audio-setInput-input-callback-err-Set-the-input-to-either-lineIn-or-mic-Defaults-to-lineIn\" name=\"api-audio-setInput-input-callback-err-Set-the-input-to-either-lineIn-or-mic-Defaults-to-lineIn\">#</a> audio<b>.setInput</b>( input, callback(err) )  \n Set the input to either 'lineIn' or 'mic'. Defaults to 'lineIn'.  \n\n&#x20;<a href=\"#api-audio-setOutput-output-callback-err-Set-the-output-to-either-lineOut-or-headPhones-Defaults-to-lineOut\" name=\"api-audio-setOutput-output-callback-err-Set-the-output-to-either-lineOut-or-headPhones-Defaults-to-lineOut\">#</a> audio<b>.setOutput</b>( output, callback(err) )  \n Set the output to either 'lineOut' or 'headPhones'. Defaults to 'lineOut'.  \n\n&#x20;<a href=\"#api-audio-startRecording-profile-callback-err-Start-recording-sound-from-the-input-Receive-data-in-the-data-event-Callback-called-after-recording-initialized-not-stopped-quality-is-an-optional-argument-that-can-be-voice-wideband-voice-wideband-stereo-hifi-voice-or-stereo-music-Default-is-hifi-voice\" name=\"api-audio-startRecording-profile-callback-err-Start-recording-sound-from-the-input-Receive-data-in-the-data-event-Callback-called-after-recording-initialized-not-stopped-quality-is-an-optional-argument-that-can-be-voice-wideband-voice-wideband-stereo-hifi-voice-or-stereo-music-Default-is-hifi-voice\">#</a> audio<b>.startRecording</b>( [profile] callback(err) )  \nStart recording sound from the input. (Receive data in the 'data' event) Callback called after recording initialized (not stopped ) .quality is an optional argument that can be 'voice', 'wideband-voice', 'wideband-stereo', 'hifi-voice', or 'stereo-music'. Default is 'hifi-voice'.  \n\n&#x20;<a href=\"#api-audio-stopRecording-callback-err-Stop-recording-sound-note-that-may-receive-one-more-data-event-before-this-completes-when-the-buffer-is-flushed\" name=\"api-audio-stopRecording-callback-err-Stop-recording-sound-note-that-may-receive-one-more-data-event-before-this-completes-when-the-buffer-is-flushed\">#</a> audio<b>.stopRecording</b>( callback(err) )  \nStop recording sound (note that may receive one more 'data' event before this completes when the buffer is flushed. )  \n\n&#x20;<a href=\"#api-audio-play-audioBuff-callback-err-Play-a-buffer-If-no-buffer-is-passed-in-the-module-will-attempt-to-resume-a-buffer-that-was-paused\" name=\"api-audio-play-audioBuff-callback-err-Play-a-buffer-If-no-buffer-is-passed-in-the-module-will-attempt-to-resume-a-buffer-that-was-paused\">#</a> audio<b>.play</b>( [audioBuff], callback(err) )  \n Play a buffer. If no buffer is passed in, the module will attempt to resume a buffer that was paused.  \n\n&#x20;<a href=\"#api-audio-pause-callback-err-Pause-the-buffer\" name=\"api-audio-pause-callback-err-Pause-the-buffer\">#</a> audio<b>.pause</b>( callback(err) )  \n Pause the buffer.  \n\n&#x20;<a href=\"#api-audio-stop-callback-err-Stop-playing-and-flush-the-buffer\" name=\"api-audio-stop-callback-err-Stop-playing-and-flush-the-buffer\">#</a> audio<b>.stop</b>( callback(err) )  \n Stop playing and flush the buffer.  \n\n&#x20;<a href=\"#api-audio-createPlayStream-Returns-a-stream-that-a-buffer-can-be-piped-into-to-play-audio\" name=\"api-audio-createPlayStream-Returns-a-stream-that-a-buffer-can-be-piped-into-to-play-audio\">#</a> audio<b>.createPlayStream</b>()  \n Returns a stream that a buffer can be piped into to play audio.  \n\n&#x20;<a href=\"#api-audio-createRecordStream-Returns-a-readable-stream-of-mic-data\" name=\"api-audio-createRecordStream-Returns-a-readable-stream-of-mic-data\">#</a> audio<b>.createRecordStream</b>()  \n Returns a readable stream of mic data.  \n\n&#x20;<a href=\"#api-audio-availableRecordingProfiles-Returns-an-array-of-available-profiles\" name=\"api-audio-availableRecordingProfiles-Returns-an-array-of-available-profiles\">#</a> audio<b>.availableRecordingProfiles</b>()  \n Returns an array of available profiles.  \n\n###Events\n\n&#x20;<a href=\"#api-audio-on-ready-callback-The-audio-module-is-ready-to-use\" name=\"api-audio-on-ready-callback-The-audio-module-is-ready-to-use\">#</a> audio<b>.on</b>( 'ready', callback() )  \n The audio module is ready to use.  \n\n&#x20;<a href=\"#api-audio-on-error-callback-err-The-audio-module-had-an-error-on-connection\" name=\"api-audio-on-error-callback-err-The-audio-module-had-an-error-on-connection\">#</a> audio<b>.on</b>( 'error', callback(err) )  \n The audio module had an error on connection.  \n\n&#x20;<a href=\"#api-audio-on-volume-callback-volume-Volume-was-set\" name=\"api-audio-on-volume-callback-volume-Volume-was-set\">#</a> audio<b>.on</b>( 'volume', callback(volume) )  \n Volume was set.  \n\n&#x20;<a href=\"#api-audio-on-input-callback-input-The-input-mode-was-set\" name=\"api-audio-on-input-callback-input-The-input-mode-was-set\">#</a> audio<b>.on</b>( 'input', callback(input) )  \n The input mode was set.  \n\n&#x20;<a href=\"#api-audio-on-output-callback-output-The-output-mode-was-set\" name=\"api-audio-on-output-callback-output-The-output-mode-was-set\">#</a> audio<b>.on</b>( 'output', callback(output) )  \n The output mode was set.  \n\n&#x20;<a href=\"#api-audio-on-startRecording-callback-Started-recording-from-the-input\" name=\"api-audio-on-startRecording-callback-Started-recording-from-the-input\">#</a> audio<b>.on</b>( 'startRecording', callback() )  \n Started recording from the input.  \n\n&#x20;<a href=\"#api-audio-on-data-callback-audioBuff-Received-recorded-data\" name=\"api-audio-on-data-callback-audioBuff-Received-recorded-data\">#</a> audio<b>.on</b>( 'data', callback(audioBuff) )  \n Received recorded data.  \n\n&#x20;<a href=\"#api-audio-on-stopRecording-callback-Stopped-recording-on-the-input\" name=\"api-audio-on-stopRecording-callback-Stopped-recording-on-the-input\">#</a> audio<b>.on</b>( 'stopRecording', callback() )  \n Stopped recording on the input.  \n\n&#x20;<a href=\"#api-audio-on-play-callback-A-buffer-is-beginning-to-be-played\" name=\"api-audio-on-play-callback-A-buffer-is-beginning-to-be-played\">#</a> audio<b>.on</b>( play', callback() )  \n A buffer is beginning to be played.  \n\n&#x20;<a href=\"#api-audio-on-pause-callback-Playback-was-paused\" name=\"api-audio-on-pause-callback-Playback-was-paused\">#</a> audio<b>.on</b>( 'pause', callback() )  \n Playback was paused.  \n\n&#x20;<a href=\"#api-audio-on-stop-callback-Playback-was-stopped\" name=\"api-audio-on-stop-callback-Playback-was-stopped\">#</a> audio<b>.on</b>( 'stop', callback() )  \n Playback was stopped.  \n\n&#x20;<a href=\"#api-audio-on-end-callback-err-The-buffer-finished-playing\" name=\"api-audio-on-end-callback-err-The-buffer-finished-playing\">#</a> audio<b>.on</b>( 'end', callback(err) )  \n The buffer finished playing.  \n\n###Further Examples\n* [Audio Out No Streams](https://github.com/tessel/audio-vs1053b/blob/master/examples/audio-out-no-streams.js). This Audio Module demo sends audio from a file to Headphones/Line out without using streams.. \n* [Record Sound](https://github.com/tessel/audio-vs1053b/blob/master/examples/record-sound.js). This Audio Module demo sends audio from the microphone to a file without using streams.\n* [Stream Audio Out](https://github.com/tessel/audio-vs1053b/blob/master/examples/stream-audio-out.js). This Audio Module demo sends audio from a file to Headphones/Line out using streams. \n* [Stream Sound to File](https://github.com/tessel/audio-vs1053b/blob/master/examples/stream-sound-to-file.js). This Audio Module demo takes line-in and writes it to a file using streams.\n\n###License\nMIT or Apache 2.0, at your option\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/tessel/audio-vs1053b/issues"
  },
  "homepage": "https://github.com/tessel/audio-vs1053b",
  "_id": "audio-vs1053b@0.1.6",
  "_from": "audio-vs1053b@"
}
